<div id=D__ID>
<!--third html start -->
    <div class="container mt-95 mb-3">
      <div class="row" >
        <!-- form container start -->
        <div class="col-12 col-lg-12 col-md-12 col-sm-12 mx-auto formbox">
          <div class="row">
            <div class="col-12">
              <!-- form start -->
              <form id="F__ID">
                  <h3>Basic Psychological Need Satisfaction Scale</h3>
                  <!-- participant name and study id -->
                  <div id="participant_div__ID">
                      <div class="form-group">
                         <fieldset class="subquestions">
                             <label ><span class="">Participant</span>
                                 <input type=text name="Participant" class=form-control id=Participant__ID data-id="Participant"/>
                             </label><br>
                             <label ><span class="">Participant ID</span>
                                 <input type=text name="Participant_uid" class=form-control _readonly />
                             </label>
                          </fieldset>
                      </div>
                  </div>
                  <div class="form-group">
                      <fieldset class="subquestions">
                          <h4>Please read each of the following items carefully, thinking about how it relates to your life, and then indicate how true it is for you.</h4>
                      </fieldset>
                  </div>
                  <div class="form-group">
                      <h4>1. I get along with people I come into contact with</h4>
      				  <div class="questiongroup">
                          <fieldset>
                              <label class="radiobuttons">
                                <input type="radio" name="bpns_1" value="1" required>
                                <span class="checkmark"></span> (1) Not at all true</label><br>
                              <label class="radiobuttons">
                                <input type="radio" name="bpns_1" value="2">
                                <span class="checkmark"></span> (2)</label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_1" value="3">
                                  <span class="checkmark"></span> (3)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_1" value="4">
                                  <span class="checkmark"></span> (4) Somewhat true
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_1" value="5">
                                  <span class="checkmark"></span> (5)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_1" value="6">
                                  <span class="checkmark"></span> (6)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_1" value="7">
                                  <span class="checkmark"></span> (7) Very true
                              </label><br>
                          </fieldset>
                     </div>
      		      </div>
                  <div class="form-group">
                      <h4>2.	Most days I feel a sense of accomplishment from what I do</h4>
      				  <div id=bpi__ID>
                            <div class=bb__ID id=f01__ID></div>
                            <div class=bb__ID id=f02__ID></div>
                            <div class=bb__ID id=f03__ID></div>
                            
                            <div class=sb__ID id=f11__ID></div>
                            <div class=sb__ID id=f12__ID></div>
                            <div class=sb__ID id=f13__ID></div>
                     </div>
                     <style>
                         .bb__ID{
                            width:30px;
                            height:30px;
                            border:1px solid green;
                            position: absolute;
                         }
                         .sb__ID{
                            width:20px;
                            height:20px;
                            border:1px solid blue;
                            position: absolute;
                         }
                         .shade__ID{
                             background-color: #888;
                         }
                         #bpi__ID{
                             position: relative;
                             width:607px;
                             height:398px;
                             border:1px solid red;
                             _background-size: cover; 
                             _background-repeat: repeat-x; 
                             _background-position: center top; 
                             _background-attachment: fixed;
                             background-image: url(__CURRENT_PATH__/bpi.png)
                         }
                         #f01__ID{  top:100px;   left:100px;  }
                         #f02__ID{  top:200px;   left:100px;  }
                         #f03__ID{  top:300px;   left:100px;  }
                         #f11__ID{  top:100px;   left:200px;  }
                         #f12__ID{  top:200px;   left:200px;  }
                         #f13__ID{  top:300px;   left:200px;  }
                     </style>
      		      </div>
                  <div class="form-group">
                      <h4>3.	I feel like I can pretty much be myself in my daily situations</h4>
      				  <div class="questiongroup">
                          <fieldset>
                              <label class="radiobuttons">
                                <input type="radio" name="bpns_3" value="1" required>
                                <span class="checkmark"></span> (1) Not at all true</label><br>
                              <label class="radiobuttons">
                                <input type="radio" name="bpns_3" value="2">
                                <span class="checkmark"></span> (2)</label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_3" value="3">
                                  <span class="checkmark"></span> (3)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_3" value="4">
                                  <span class="checkmark"></span> (4) Somewhat true
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_3" value="5">
                                  <span class="checkmark"></span> (5)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_3" value="6">
                                  <span class="checkmark"></span> (6)
                              </label><br>
                              <label class="radiobuttons">
                                  <input type="radio" name="bpns_3" value="7">
                                  <span class="checkmark"></span> (7) Very true
                              </label><br>
                          </fieldset>
                     </div>
      		      </div>
                  <button type="submit" id="submit__ID" class="btn btn-primary btn-lg">Submit</button>
              </form>
            </div>
         </div>
        </div>
      </div>
  </div>
  <script>
      function F__ID(){
          //-------------------------------------
          VmInclude:__COMPONENT__/f/form.01.js
          VmInclude:__CURRENT_PATH__/shared-form.js
          //-------------------------------------
          var before_submit=m.before_submit;
            m.before_submit=function(data,index){
              for(p in body_data){
                data[p.split('_')[0]]=body_data[p];
              }
              data["x"]=body_data_x_id;
              return before_submit(data,index);
          }
          //-------------------------------------
          var body_data={}
          var body_data_x_id="";
          //-------------------------------------
          $('.bb__ID, .sb__ID').on('click',function(){
              var id=$(this).attr('id');
              var v=body_data[id];  if(v==undefined) v=0;
              if(v==0){ 
                v=1;  
                $(this).addClass('shade__ID');
              }
              else{
                v=0;
                $(this).removeClass('shade__ID');
              }
              body_data[id]=v;
          })
          //-------------------------------------
          $('.bb__ID, .sb__ID').on('dblclick',function(e){
              //e.stopPropagation();
              //e.preventDefault();
              var id=$(this).attr('id');
              if( $('#'+id).hasClass( "shade__ID" )){
                $('.bb__ID, .sb__ID').html('');
                $(this).html('X');
                body_data_x_id=id;

              }
          })
          //-------------------------------------
          $('#D__ID').on('load',function(){
            body_data={};
            body_data_x_id="";
            $('.bb__ID .sb__ID').removeClass('shade__ID');
            $('.bb__ID, .sb__ID').html('');
            
            var record=m.input.record;
            for(p in record.Data){
                if(p[0]=='f'){
                    if(record.Data[p]==1){
                        $('#'+p+"__ID").addClass('shade__ID');
                        body_data[p+"__ID"]=record.Data[p];
                    }
                }
            }
            var x=record.Data.x;
            body_data_x_id=x;
            $('#'+x+"__ID").html('X');
          })
          //-------------------------------------
        }
  </script>
  <style>
      #D__ID .mt-95 {
        max-width:600px;
      }
      VmInclude:__CURRENT_PATH__/wappsystem-form.css
  </style>
</div>
